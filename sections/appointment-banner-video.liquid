<section class="home-banner" data-scroll-section>
  <div class="home-banner-img">
    {%- comment -%} Desktop Video {%- endcomment -%}
    {%- if section.settings.banner_video != blank -%}
      {{ section.settings.banner_video | video_tag:
        autoplay: true,
        loop: true,
        muted: true,
        controls: false,
        playsinline: true,
        class: 'desktop-video'
      }}
    {%- endif -%}

    {%- comment -%} Mobile Image Fallback {%- endcomment -%}
    {%- if section.settings.banner_img_mob != blank -%}
      <img src="{{ section.settings.banner_img_mob | img_url: 'master' }}"
           alt="{{ section.settings.heading | escape }}"
           class="mobile-image"
           loading="lazy"
           width="100%"
           height="auto">
    {%- endif -%}

    <div class="home-banner-cont" data-scroll data-scroll-position="top" data-scroll-speed="1">
      <div class="home-banner-head">
        <h1 class="head-white">{{ section.settings.heading }}</h1>
      </div>
      <div class="home-banner-cta">
        <a class="craw-cta cta-white" href="{{ section.settings.cta_link }}" {% if section.settings.cta_link contains "http" %}target="_blank"{% endif %}>
          {{ section.settings.cta }}
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  video.desktop-video {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    left: 0;
    object-fit: cover;
}
</style>

{% schema %}
{
  "name": "Appointment Banner Video",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "video",
      "id": "banner_video",
      "label": "Desktop Video",
      "info": "Recommended size: 1920x1080 (16:9), max 50MB"
    },
    {
      "type": "image_picker",
      "id": "banner_img_mob",
      "label": "Mobile Fallback Image",
      "info": "Recommended size: 800x1200 (2:3 ratio)"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Virtual Appointment"
    },
    {
      "type": "text",
      "id": "cta",
      "label": "Button Text",
      "default": "Book Now"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "Button Link"
    }
  ],
  "presets": [
    {
      "name": "Video Banner with Mobile Fallback",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}




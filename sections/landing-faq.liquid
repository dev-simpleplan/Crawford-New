<section class="landing-faq" data-scroll-section>
    <div class="container-fluid">
        <div class="landing-faq-in">
            <div class="left">
                <h2>{{ section.settings.title }}</h2>
                <p>{{ section.settings.para }}</p>
            </div>
            <div class="right">
                <div class="faq-accordion-wrap">
                    {% for block in section.blocks %}
                    <div class="faq-accordion">
                        <div class="accordion-item">
                            <div class="accordion-title">
                                <span class="accord-title-img">
                                    <img src="{{ block.settings.accord_title_img | img_url: '50x50' }}" alt="Icon"
                                        class="icon">
                                </span>
                                {{ block.settings.accord_title }}
                                <span class="accordion-icon">
                                    <svg width="14" height="14" viewBox="0 0 15 15" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M7.5 0.5V14.5" stroke="#161716" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                        <path d="M0.5 7.5H14.5" stroke="#161716" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                                </span>
                            </div>

                            <div class="accordion-content">
                                <p>{{ block.settings.accord_para }}</p>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>

            </div>
        </div>
    </div>
</section>


<script>
    var acc = document.getElementsByClassName('accordion-title');
    if (acc.length > 0) {
        acc[0].classList.add('active');
        acc[0].nextElementSibling.style.maxHeight = acc[0].nextElementSibling.scrollHeight + "px";
    }

    for (var i = 0; i < acc.length; i++) {
        acc[i].addEventListener('click', function () {
            for (var j = 0; j < acc.length; j++) {
                if (acc[j] !== this) {
                    acc[j].classList.remove('active');
                    acc[j].nextElementSibling.style.maxHeight = null;
                }
            }
            this.classList.toggle('active');
            var panel = this.nextElementSibling;

            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        });
    }
</script>

{% schema %}
{
"name": "Landing FAQ",
"settings": [
{
"type": "text",
"id": "title",
"label": "Heading"
},
{
"type": "textarea",
"id": "para",
"label": "Paragraph"
}
],
"blocks": [
{
"type": "landing-faq-item",
"name": "FAQ Item",
"settings": [
{
"type": "image_picker",
"id": "accord_title_img",
"label": "Accordion Icon"
},
{
"type": "text",
"id": "accord_title",
"label": "Question Title"
},
{
"type": "textarea",
"id": "accord_para",
"label": "Answer Text"
}
]
}
],
"max_blocks": 20,
"presets": [
{
"name": "Landing FAQ",
"category": "FAQ"
}
]
}

{% endschema %}